import bisect

for _ in range(1):
    # (n, m) = [200, 704725329]
    # array = list(map(int,
    #              "1755340029 277138372 385582287 1728098732 1712196094 1711030235 2097211681 690530396 121210846 427059989 1202930202 333751665 1181518051 580473348 1178024499 2005510614 340846922 1600944007 1425681964 454621004 612810259 501042417 981946187 1722017912 2101169694 1530015371 1979055371 1271074029 1235450198 241078744 1975799357 843306578 518217115 213897996 423921661 82929561 1924928230 373649693 773459956 2046139075 800709682 1976390157 232407092 1982227732 409379856 1410431590 1840254697 750226777 863891948 1118453013 1204847781 1476702207 1619495429 39310319 1051236470 1573181474 1569325689 882808192 696771854 657292238 1123886935 525087563 1500598815 1642104050 738985558 1924520476 1725033610 516430139 150686520 351009917 415085566 951396201 179916426 647492657 786140285 589296281 2057924246 478911333 1339523058 774332545 1597364345 396887190 103551103 1069376125 436197508 1154787572 495073950 2005523197 2037595764 1191845804 515331786 1013999050 1716933366 2015930601 508619451 308435275 1792967428 86169412 824865413 1943653947 437179329 1239950978 747566500 617095754 1887443634 1533706784 1206392034 1797884231 2012618116 398431443 424733128 1462498813 795318632 528284230 384391289 1231516140 1683071802 879465239 1089555688 1573183917 2071311042 1604887473 439699318 1640760759 1473334425 948318769 1949196033 1118818204 1034488180 626577797 914988503 1471667508 1866528775 1662555002 2088763261 1606488760 1048778137 1147671647 1256889343 913912604 1546103089 1681622470 228927768 193938073 62423051 613319057 1425454212 1745494852 1492784295 367526251 1171195120 1416611688 1972413723 1610894438 909888798 1298264500 411729558 711601182 269599055 1446217737 1338178978 1184587557 770401597 1057224104 699658910 711681209 516229216 1748437046 1859352855 1773118558 514866002 1257972296 1307257379 743793769 1451910368 1369680429 1357112825 729880931 967691633 702413471 1097407181 2138886752 2119025158 922337255 1602297541 881430307 73118106 2014027098 1593031488 342717161 1312761187 783726818 1527304717 2083162783 1840950921 79479979 647360343 209696488 1827917024 359229550".split()))

    (n, m) = [7, 7]
    array = list(map(int, "1 1 1 1 1 1 1".split()))

    array[0] = array[0] % m
    for i in range(1, len(array)):
        array[i] = (array[i - 1] + array[i]) % m
    ans = 0
    found = []
    for i in range(len(array)):
        x = array[i]
        j = bisect.bisect_right(found, x)
        ans = max(ans, x)
        if j < i:  # sub array from j+1, i may be a solution
            ans = max(ans, (array[i] - found[j]) % m)
        found.insert(j, x)
    print(ans)
